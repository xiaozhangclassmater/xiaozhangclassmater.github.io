(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{277:function(t,s,a){t.exports=a.p+"assets/img/1695003592420.4f3da37e.png"},319:function(t,s,a){"use strict";a.r(s);var e=a(10),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_1-浏览器知识📕"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-浏览器知识📕"}},[t._v("#")]),t._v(" 1： 浏览器知识📕")]),t._v(" "),s("h2",{attrs:{id:"cookie与浏览器本地存储的区别-🎄"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie与浏览器本地存储的区别-🎄"}},[t._v("#")]),t._v(" cookie与浏览器本地存储的区别？🎄")]),t._v(" "),s("p",[s("strong",[t._v("1.1 本质区别")])]),t._v(" "),s("p",[s("code",[t._v("cookie")]),t._v("是存储在浏览器的一种存储数据方式，它与  "),s("code",[t._v("locaStorage")]),t._v("和 "),s("code",[t._v("sessionStorage")]),t._v("存储不同，cookie 会自动将数据发送到服务端，而两者不会自动将数据传输到服务端 ，"),s("code",[t._v("cookie")]),t._v("的数据存储上限制每个网站存储大小为4kb，而本地存储的大小可以达到MB级别。")]),t._v(" "),s("p",[s("strong",[t._v("1.2 ： 安全区别")])]),t._v(" "),s("p",[t._v("从安全的角度上来说，"),s("code",[t._v("cookie")]),t._v("的安全系数会比本地存储系数要高，当 服务端将 "),s("code",[t._v("cookie")]),t._v(" 设置为 HTTPOnly ： true时，浏览器是无法获取到"),s("code",[t._v("cookie")]),t._v("的信息的")]),t._v(" "),s("h2",{attrs:{id:"跨域-以及解决方案🎆"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#跨域-以及解决方案🎆"}},[t._v("#")]),t._v(" 跨域，以及解决方案🎆")]),t._v(" "),s("h3",{attrs:{id:"什么是跨域"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是跨域"}},[t._v("#")]),t._v(" 什么是跨域")]),t._v(" "),s("p",[t._v("当访问服务器时资源时，如果你的 "),s("code",[t._v("协议")]),t._v("，"),s("code",[t._v("端口")]),t._v("，"),s("code",[t._v("ip域名")]),t._v("三者只要有一个出现不一致的情况下，就会产生跨域，这种跨域的问题是出现在浏览器的本身，如果脱离了浏览器环境也就不会再有跨域的问题，例如我们服务器与服务器之间通信就不会产生跨域的问题。")]),t._v(" "),s("h3",{attrs:{id:"解决跨域"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决跨域"}},[t._v("#")]),t._v(" 解决跨域")]),t._v(" "),s("p",[s("strong",[t._v("1： 传统方案")])]),t._v(" "),s("p",[t._v("使用"),s("code",[t._v("JSONP")]),t._v("进行处理，动态的创建script 将资源路径放入到  "),s("code",[t._v("scropt")]),t._v(" src属性上然后发出一个get请求到服务器，服务器通过一个函数名称将值传入，客户端调用函数获得数据。")]),t._v(" "),s("p",[s("strong",[t._v("2：使用proxy代理")])]),t._v(" "),s("p",[t._v("使用代理设置解决跨域问题，由本地服务代理转发到服务器，然后本地服务接收到响应数据消息后，转交给浏览器")]),t._v(" "),s("p",[s("strong",[t._v("3 ： cors（Cross-Origin Resource Sharing）解决")])]),t._v(" "),s("p",[t._v("由 服务器端  "),s("code",[t._v("cros")]),t._v("（Cross-Origin Resource Sharing）设置允许跨域，所有资源可以访问。你可以在响应头中添加该属性")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("access-control-allow-origin ： *\nor\naccess-control-allow-origin ： 被允许的地址\n")])])]),s("h2",{attrs:{id:"session的原理🖼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#session的原理🖼"}},[t._v("#")]),t._v(" session的原理🖼")]),t._v(" "),s("p",[t._v("session是服务端的一个数据存储，它通常表现为一个"),s("code",[t._v("table")]),t._v("，与之对应的值为 uuid ： value，它是一种key value的组合形式存在的，通常uuid是唯一的一个值，它是存储在内存当中的，如果你重启服务它将会消失，此类数据只能通过服务端进行修改，客户端无法进行session的操作。")]),t._v(" "),s("h2",{attrs:{id:"cookie的原理🎃"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie的原理🎃"}},[t._v("#")]),t._v(" cookie的原理🎃")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Cookies",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),s("p",[t._v("cookie是客户端的一种数据存储的表现形式，它可以根据浏览器的数据信息自动传输到服务器，而不需要手动传输，通常cookie会在请求头中，服务端也可以设置响应头以传输cookie信息。")]),t._v(" "),s("h3",{attrs:{id:"cookie-的生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie-的生命周期"}},[t._v("#")]),t._v(" cookie 的生命周期")]),t._v(" "),s("p",[s("code",[t._v("cookie")]),t._v("的生命周期一般是有服务端进行设置 "),s("code",[t._v("Expires")]),t._v(" 指定的日期，或者 "),s("code",[t._v("max-Age")]),t._v("指定的一段时间后被删除。")]),t._v(" "),s("p",[t._v("🚩 "),s("code",[t._v("cookie")]),t._v("是无法直接被删除的，你只能通过设置它的过期时间，等到下一次响应或者请求时，它就会自动消失。")]),t._v(" "),s("h3",{attrs:{id:"cookie的安全发送"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie的安全发送"}},[t._v("#")]),t._v(" cookie的安全发送")]),t._v(" "),s("p",[t._v("cookie中提供了两种安全策略机制进行处理。")]),t._v(" "),s("p",[s("strong",[t._v("1")]),t._v(" ： "),s("code",[t._v("secure")]),t._v("属性")]),t._v(" "),s("p",[t._v("它只允许你的请求地址必须是https的类型，如果不是https则 "),s("code",[t._v("cookie")]),t._v("  无效。")]),t._v(" "),s("p",[t._v("2 ： "),s("code",[t._v("httpOnly")])]),t._v(" "),s("p",[t._v("它决定你的cookie在客户端是否可以通过js脚本获取cookie信息，它传入的是一个boolean值。")]),t._v(" "),s("p",[s("strong",[t._v("示例")])]),t._v(" "),s("p",[t._v("以下代码中，我们登录成功后，将cookie设置了它的属性，其实 "),s("code",[t._v("httpOnly")]),t._v("为 true，则代表客户端在获取cookie时是无法获取的。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("adminLogin")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookie\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" loginId "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loginPwd "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取请求体的数据")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" AdminService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" loginId "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loginPwd "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("encrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cookie")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"token"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("maxAge")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3600")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 毫秒数")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("httpOnly")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("domain")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"authorization"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loginId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  登录成功后 保存用户的sessionUserId //")]),t._v("\n        req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sessionUserId "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[s("img",{attrs:{src:a(277),alt:"1695003592420"}})]),t._v(" "),s("h3",{attrs:{id:"cookie的域-domain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie的域-domain"}},[t._v("#")]),t._v(" cookie的域（domain）")]),t._v(" "),s("p",[s("code",[t._v("cookie")]),t._v("的 "),s("code",[t._v("domain")]),t._v("属性 可以确认cookie可以发送给哪些网站，也就是可以理解为网站作用域。")]),t._v(" "),s("p",[s("code",[t._v("domain")]),t._v(" 指定哪些主机可以接收服务端发送的cookie，（如果不指定 默认为 主机("),s("code",[t._v("host")]),t._v(")，不包含子域名），"),s("code",[t._v("（")])]),t._v(" "),s("p",[t._v("如果你指定了 "),s("code",[t._v("domain")]),t._v(" 则一般会包含子域名，并且子域名会共享该cookie数据"),s("code",[t._v("）")])]),t._v(" "),s("p",[s("strong",[t._v("例如")]),t._v("，如果设置 "),s("code",[t._v("Domain=mozilla.org")]),t._v("，则 Cookie 也包含在子域名中（如 "),s("code",[t._v("developer.mozilla.org")]),t._v("）。")]),t._v(" "),s("h3",{attrs:{id:"cookie的path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie的path"}},[t._v("#")]),t._v(" cookie的path")]),t._v(" "),s("p",[s("code",[t._v("Path")]),t._v(" 属性指定了一个 URL 路径，该 URL 路径必须存在于请求的 URL 中，以便发送 "),s("code",[t._v("Cookie")]),t._v(" 标头，子路径也会被匹配")])])}),[],!1,null,null,null);s.default=n.exports}}]);