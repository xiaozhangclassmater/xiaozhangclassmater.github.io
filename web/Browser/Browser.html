<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1： 浏览器知识📕</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.a90809c0.css" as="style"><link rel="preload" href="/assets/js/app.feb21b2a.js" as="script"><link rel="preload" href="/assets/js/2.75ba61f2.js" as="script"><link rel="preload" href="/assets/js/12.f66c58d3.js" as="script"><link rel="prefetch" href="/assets/js/10.be2d4676.js"><link rel="prefetch" href="/assets/js/11.a6cdee63.js"><link rel="prefetch" href="/assets/js/13.f6a7ab74.js"><link rel="prefetch" href="/assets/js/14.f2495746.js"><link rel="prefetch" href="/assets/js/15.501e6ef6.js"><link rel="prefetch" href="/assets/js/16.f88cdb61.js"><link rel="prefetch" href="/assets/js/17.cee20973.js"><link rel="prefetch" href="/assets/js/18.45990e00.js"><link rel="prefetch" href="/assets/js/19.c5e4d633.js"><link rel="prefetch" href="/assets/js/20.72e018c7.js"><link rel="prefetch" href="/assets/js/21.bc6f4b58.js"><link rel="prefetch" href="/assets/js/22.233bac0d.js"><link rel="prefetch" href="/assets/js/3.ec1e420f.js"><link rel="prefetch" href="/assets/js/4.0a0d7342.js"><link rel="prefetch" href="/assets/js/5.fb1d9eba.js"><link rel="prefetch" href="/assets/js/6.695dc6e3.js"><link rel="prefetch" href="/assets/js/7.f7cf561e.js"><link rel="prefetch" href="/assets/js/8.65918f4e.js"><link rel="prefetch" href="/assets/js/9.74b6acd4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a90809c0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://xiaozhangclassmater.github.io/minivueBarrage-docs-web/#/dashboard" target="_self" class="nav-link external">
  首页
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web知识广场" class="dropdown-title"><span class="title">web知识广场</span> <span class="arrow down"></span></button> <button type="button" aria-label="web知识广场" class="mobile-dropdown-title"><span class="title">web知识广场</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/javascript/javascript.html" class="nav-link">
  JavaScript笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/vue/vue3.html" class="nav-link">
  vue笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/React/React.html" class="nav-link">
  react笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/webpack/webpack.html" class="nav-link">
  webpack笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/Browser/Browser.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  浏览器笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NodeJs系列" class="dropdown-title"><span class="title">NodeJs系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="NodeJs系列" class="mobile-dropdown-title"><span class="title">NodeJs系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/node/Node.html" class="nav-link">
  NodeJS笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/ORM/ORM.html" class="nav-link">
  Node_ORM框架笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/express/express.html" class="nav-link">
  express笔记
</a></li></ul></div></div><div class="nav-item"><a href="/web/sql/mysql.html" class="nav-link">
  sql笔记
</a></div><div class="nav-item"><a href="/web/netWork/netWork.html" class="nav-link">
  计算机网络笔记
</a></div><div class="nav-item"><a href="/web/InterviewQuestion/InterviewQuestion.html" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/web/studyNote/studyNote.html" class="nav-link">
  工作笔记
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://xiaozhangclassmater.github.io/minivueBarrage-docs-web/#/dashboard" target="_self" class="nav-link external">
  首页
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web知识广场" class="dropdown-title"><span class="title">web知识广场</span> <span class="arrow down"></span></button> <button type="button" aria-label="web知识广场" class="mobile-dropdown-title"><span class="title">web知识广场</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/javascript/javascript.html" class="nav-link">
  JavaScript笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/vue/vue3.html" class="nav-link">
  vue笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/React/React.html" class="nav-link">
  react笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/webpack/webpack.html" class="nav-link">
  webpack笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/Browser/Browser.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  浏览器笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NodeJs系列" class="dropdown-title"><span class="title">NodeJs系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="NodeJs系列" class="mobile-dropdown-title"><span class="title">NodeJs系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/node/Node.html" class="nav-link">
  NodeJS笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/ORM/ORM.html" class="nav-link">
  Node_ORM框架笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/express/express.html" class="nav-link">
  express笔记
</a></li></ul></div></div><div class="nav-item"><a href="/web/sql/mysql.html" class="nav-link">
  sql笔记
</a></div><div class="nav-item"><a href="/web/netWork/netWork.html" class="nav-link">
  计算机网络笔记
</a></div><div class="nav-item"><a href="/web/InterviewQuestion/InterviewQuestion.html" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/web/studyNote/studyNote.html" class="nav-link">
  工作笔记
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/" class="sidebar-heading clickable router-link-active"><span>快速上手</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>个人笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/web/javascript/javascript.html" class="sidebar-link">JavaScript</a></li><li><a href="/web/webpack/webpack.html" class="sidebar-link">webpack</a></li><li><a href="/web/vue/vue3.html" class="sidebar-link">vue3</a></li><li><a href="/web/React/React.html" class="sidebar-link">React</a></li><li><a href="/web/node/Node.html" class="sidebar-link">NodeJS</a></li><li><a href="/web/sql/mysql.html" class="sidebar-link">Mysql</a></li><li><a href="/web/ORM/ORM.html" class="sidebar-link">Node_ORM</a></li><li><a href="/web/express/express.html" class="sidebar-link">express</a></li><li><a href="/web/Browser/Browser.html" aria-current="page" class="active sidebar-link">Browser</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/Browser/Browser.html#cookie与浏览器本地存储的区别-🎄" class="sidebar-link">cookie与浏览器本地存储的区别？🎄</a></li><li class="sidebar-sub-header"><a href="/web/Browser/Browser.html#跨域-以及解决方案🎆" class="sidebar-link">跨域，以及解决方案🎆</a></li><li class="sidebar-sub-header"><a href="/web/Browser/Browser.html#session的原理🖼" class="sidebar-link">session的原理🖼</a></li><li class="sidebar-sub-header"><a href="/web/Browser/Browser.html#cookie的原理🎃" class="sidebar-link">cookie的原理🎃</a></li></ul></li><li><a href="/web/InterviewQuestion/InterviewQuestion.html" class="sidebar-link">面试题</a></li><li><a href="/web/netWork/netWork.html" class="sidebar-link">计算机网络</a></li><li><a href="/web/studyNote/studyNote.html" class="sidebar-link">工作笔记</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-浏览器知识📕"><a href="#_1-浏览器知识📕" class="header-anchor">#</a> 1： 浏览器知识📕</h1> <h2 id="cookie与浏览器本地存储的区别-🎄"><a href="#cookie与浏览器本地存储的区别-🎄" class="header-anchor">#</a> cookie与浏览器本地存储的区别？🎄</h2> <p><strong>1.1 本质区别</strong></p> <p><code>cookie</code>是存储在浏览器的一种存储数据方式，它与  <code>locaStorage</code>和 <code>sessionStorage</code>存储不同，cookie 会自动将数据发送到服务端，而两者不会自动将数据传输到服务端 ，<code>cookie</code>的数据存储上限制每个网站存储大小为4kb，而本地存储的大小可以达到MB级别。</p> <p><strong>1.2 ： 安全区别</strong></p> <p>从安全的角度上来说，<code>cookie</code>的安全系数会比本地存储系数要高，当 服务端将 <code>cookie</code> 设置为 HTTPOnly ： true时，浏览器是无法获取到<code>cookie</code>的信息的</p> <h2 id="跨域-以及解决方案🎆"><a href="#跨域-以及解决方案🎆" class="header-anchor">#</a> 跨域，以及解决方案🎆</h2> <h3 id="什么是跨域"><a href="#什么是跨域" class="header-anchor">#</a> 什么是跨域</h3> <p>当访问服务器时资源时，如果你的 <code>协议</code>，<code>端口</code>，<code>ip域名</code>三者只要有一个出现不一致的情况下，就会产生跨域，这种跨域的问题是出现在浏览器的本身，如果脱离了浏览器环境也就不会再有跨域的问题，例如我们服务器与服务器之间通信就不会产生跨域的问题。</p> <h3 id="解决跨域"><a href="#解决跨域" class="header-anchor">#</a> 解决跨域</h3> <p><strong>1： 传统方案</strong></p> <p>使用<code>JSONP</code>进行处理，动态的创建script 将资源路径放入到  <code>scropt</code> src属性上然后发出一个get请求到服务器，服务器通过一个函数名称将值传入，客户端调用函数获得数据。</p> <p><strong>2：使用proxy代理</strong></p> <p>使用代理设置解决跨域问题，由本地服务代理转发到服务器，然后本地服务接收到响应数据消息后，转交给浏览器</p> <p><strong>3 ： cors（Cross-Origin Resource Sharing）解决</strong></p> <p>由 服务器端  <code>cros</code>（Cross-Origin Resource Sharing）设置允许跨域，所有资源可以访问。你可以在响应头中添加该属性</p> <div class="language-json extra-class"><pre class="language-json"><code>access-control-allow-origin ： *
or
access-control-allow-origin ： 被允许的地址
</code></pre></div><h2 id="session的原理🖼"><a href="#session的原理🖼" class="header-anchor">#</a> session的原理🖼</h2> <p>session是服务端的一个数据存储，它通常表现为一个<code>table</code>，与之对应的值为 uuid ： value，它是一种key value的组合形式存在的，通常uuid是唯一的一个值，它是存储在内存当中的，如果你重启服务它将会消失，此类数据只能通过服务端进行修改，客户端无法进行session的操作。</p> <h2 id="cookie的原理🎃"><a href="#cookie的原理🎃" class="header-anchor">#</a> cookie的原理🎃</h2> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Cookies" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h3> <p>cookie是客户端的一种数据存储的表现形式，它可以根据浏览器的数据信息自动传输到服务器，而不需要手动传输，通常cookie会在请求头中，服务端也可以设置响应头以传输cookie信息。</p> <h3 id="cookie-的生命周期"><a href="#cookie-的生命周期" class="header-anchor">#</a> cookie 的生命周期</h3> <p><code>cookie</code>的生命周期一般是有服务端进行设置 <code>Expires</code> 指定的日期，或者 <code>max-Age</code>指定的一段时间后被删除。</p> <p>🚩 <code>cookie</code>是无法直接被删除的，你只能通过设置它的过期时间，等到下一次响应或者请求时，它就会自动消失。</p> <h3 id="cookie的安全发送"><a href="#cookie的安全发送" class="header-anchor">#</a> cookie的安全发送</h3> <p>cookie中提供了两种安全策略机制进行处理。</p> <p><strong>1</strong> ： <code>secure</code>属性</p> <p>它只允许你的请求地址必须是https的类型，如果不是https则 <code>cookie</code>  无效。</p> <p>2 ： <code>httpOnly</code></p> <p>它决定你的cookie在客户端是否可以通过js脚本获取cookie信息，它传入的是一个boolean值。</p> <p><strong>示例</strong></p> <p>以下代码中，我们登录成功后，将cookie设置了它的属性，其实 <code>httpOnly</code>为 true，则代表客户端在获取cookie时是无法获取的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">adminLogin</span>  <span class="token punctuation">(</span><span class="token parameter">req <span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span>cookie
    <span class="token keyword">const</span> <span class="token punctuation">{</span> loginId <span class="token punctuation">,</span> loginPwd <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body <span class="token comment">// 获取请求体的数据</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> AdminService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{</span> loginId <span class="token punctuation">,</span> loginPwd <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token function">encrypt</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        res<span class="token punctuation">.</span><span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span> <span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">maxAge</span> <span class="token operator">:</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// 毫秒数</span>
            <span class="token literal-property property">httpOnly</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">path</span> <span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">domain</span> <span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span> <span class="token punctuation">,</span> loginId<span class="token punctuation">)</span>
        <span class="token comment">//  登录成功后 保存用户的sessionUserId //</span>
        req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>sessionUserId <span class="token operator">=</span> result<span class="token punctuation">.</span>data
    <span class="token punctuation">}</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p><img src="/assets/img/1695003592420.4f3da37e.png" alt="1695003592420"></p> <h3 id="cookie的域-domain"><a href="#cookie的域-domain" class="header-anchor">#</a> cookie的域（domain）</h3> <p><code>cookie</code>的 <code>domain</code>属性 可以确认cookie可以发送给哪些网站，也就是可以理解为网站作用域。</p> <p><code>domain</code> 指定哪些主机可以接收服务端发送的cookie，（如果不指定 默认为 主机(<code>host</code>)，不包含子域名），<code>（</code></p> <p>如果你指定了 <code>domain</code> 则一般会包含子域名，并且子域名会共享该cookie数据<code>）</code></p> <p><strong>例如</strong>，如果设置 <code>Domain=mozilla.org</code>，则 Cookie 也包含在子域名中（如 <code>developer.mozilla.org</code>）。</p> <h3 id="cookie的path"><a href="#cookie的path" class="header-anchor">#</a> cookie的path</h3> <p><code>Path</code> 属性指定了一个 URL 路径，该 URL 路径必须存在于请求的 URL 中，以便发送 <code>Cookie</code> 标头，子路径也会被匹配</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/web/express/express.html" class="prev">
        express
      </a></span> <span class="next"><a href="/web/InterviewQuestion/InterviewQuestion.html">
        面试题
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.feb21b2a.js" defer></script><script src="/assets/js/2.75ba61f2.js" defer></script><script src="/assets/js/12.f66c58d3.js" defer></script>
  </body>
</html>
