<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>minivueBarrage(vue3)</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.a90809c0.css" as="style"><link rel="preload" href="/assets/js/app.feb21b2a.js" as="script"><link rel="preload" href="/assets/js/2.75ba61f2.js" as="script"><link rel="preload" href="/assets/js/19.c5e4d633.js" as="script"><link rel="prefetch" href="/assets/js/10.be2d4676.js"><link rel="prefetch" href="/assets/js/11.a6cdee63.js"><link rel="prefetch" href="/assets/js/12.f66c58d3.js"><link rel="prefetch" href="/assets/js/13.f6a7ab74.js"><link rel="prefetch" href="/assets/js/14.f2495746.js"><link rel="prefetch" href="/assets/js/15.501e6ef6.js"><link rel="prefetch" href="/assets/js/16.f88cdb61.js"><link rel="prefetch" href="/assets/js/17.cee20973.js"><link rel="prefetch" href="/assets/js/18.45990e00.js"><link rel="prefetch" href="/assets/js/20.72e018c7.js"><link rel="prefetch" href="/assets/js/21.bc6f4b58.js"><link rel="prefetch" href="/assets/js/22.233bac0d.js"><link rel="prefetch" href="/assets/js/3.ec1e420f.js"><link rel="prefetch" href="/assets/js/4.0a0d7342.js"><link rel="prefetch" href="/assets/js/5.fb1d9eba.js"><link rel="prefetch" href="/assets/js/6.695dc6e3.js"><link rel="prefetch" href="/assets/js/7.f7cf561e.js"><link rel="prefetch" href="/assets/js/8.65918f4e.js"><link rel="prefetch" href="/assets/js/9.74b6acd4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a90809c0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://xiaozhangclassmater.github.io/minivueBarrage-docs-web/#/dashboard" target="_self" class="nav-link external">
  首页
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web知识广场" class="dropdown-title"><span class="title">web知识广场</span> <span class="arrow down"></span></button> <button type="button" aria-label="web知识广场" class="mobile-dropdown-title"><span class="title">web知识广场</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/javascript/javascript.html" class="nav-link">
  JavaScript笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/vue/vue3.html" class="nav-link">
  vue笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/React/React.html" class="nav-link">
  react笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/webpack/webpack.html" class="nav-link">
  webpack笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/Browser/Browser.html" class="nav-link">
  浏览器笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NodeJs系列" class="dropdown-title"><span class="title">NodeJs系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="NodeJs系列" class="mobile-dropdown-title"><span class="title">NodeJs系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/node/Node.html" class="nav-link">
  NodeJS笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/ORM/ORM.html" class="nav-link">
  Node_ORM框架笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/express/express.html" class="nav-link">
  express笔记
</a></li></ul></div></div><div class="nav-item"><a href="/web/sql/mysql.html" class="nav-link">
  sql笔记
</a></div><div class="nav-item"><a href="/web/netWork/netWork.html" class="nav-link">
  计算机网络笔记
</a></div><div class="nav-item"><a href="/web/InterviewQuestion/InterviewQuestion.html" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/web/studyNote/studyNote.html" class="nav-link">
  工作笔记
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://xiaozhangclassmater.github.io/minivueBarrage-docs-web/#/dashboard" target="_self" class="nav-link external">
  首页
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web知识广场" class="dropdown-title"><span class="title">web知识广场</span> <span class="arrow down"></span></button> <button type="button" aria-label="web知识广场" class="mobile-dropdown-title"><span class="title">web知识广场</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/javascript/javascript.html" class="nav-link">
  JavaScript笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/vue/vue3.html" class="nav-link">
  vue笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/React/React.html" class="nav-link">
  react笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/webpack/webpack.html" class="nav-link">
  webpack笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/Browser/Browser.html" class="nav-link">
  浏览器笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NodeJs系列" class="dropdown-title"><span class="title">NodeJs系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="NodeJs系列" class="mobile-dropdown-title"><span class="title">NodeJs系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/node/Node.html" class="nav-link">
  NodeJS笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/ORM/ORM.html" class="nav-link">
  Node_ORM框架笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/express/express.html" class="nav-link">
  express笔记
</a></li></ul></div></div><div class="nav-item"><a href="/web/sql/mysql.html" class="nav-link">
  sql笔记
</a></div><div class="nav-item"><a href="/web/netWork/netWork.html" class="nav-link">
  计算机网络笔记
</a></div><div class="nav-item"><a href="/web/InterviewQuestion/InterviewQuestion.html" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/web/studyNote/studyNote.html" class="nav-link">
  工作笔记
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/" class="sidebar-heading clickable router-link-active open"><span>快速上手</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/" aria-current="page" class="sidebar-link">vue2</a></li><li><a href="/web/minivueBarrageV3/minivueBarrageV3.html" aria-current="page" class="active sidebar-link">vue3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/minivueBarrageV3/minivueBarrageV3.html#minivuebarrage-vue3" class="sidebar-link">minivueBarrage(vue3)</a></li><li class="sidebar-sub-header"><a href="/web/minivueBarrageV3/minivueBarrageV3.html#installation-安装" class="sidebar-link">Installation 安装</a></li><li class="sidebar-sub-header"><a href="/web/minivueBarrageV3/minivueBarrageV3.html#registry" class="sidebar-link">registry</a></li><li class="sidebar-sub-header"><a href="/web/minivueBarrageV3/minivueBarrageV3.html#usage" class="sidebar-link">Usage</a></li><li class="sidebar-sub-header"><a href="/web/minivueBarrageV3/minivueBarrageV3.html#configuration" class="sidebar-link">Configuration</a></li><li class="sidebar-sub-header"><a href="/web/minivueBarrageV3/minivueBarrageV3.html#license" class="sidebar-link">License</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>个人笔记</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="minivuebarrage-vue3"><a href="#minivuebarrage-vue3" class="header-anchor">#</a> minivueBarrage(vue3)</h2> <p><a href="http://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer"><img src="https://camo.githubusercontent.com/bf6a5f2cde1eaf9204cc31d0f035889b9af767f2799f0b5e91b83a4620ab2196/687474703a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d627269676874677265656e2e737667" alt="License"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>This library is based on a set of barrage plug-ins developed by Vue3. You can complete the barrage scrolling function by registering this plug-in. I hope it can help you.</p> <p>此库基于Vue开发的一套弹幕插件，你可以通过注册该插件，完成弹幕滚动功能,希望它可以帮助到你。</p> <p>你可以点击这里查阅 <a href="https://xiaozhangclassmater.github.io/minivueBarrage-docs-web/#/dashboard" target="_blank" rel="noopener noreferrer">中文文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="installation-安装"><a href="#installation-安装" class="header-anchor">#</a> Installation 安装</h2> <h3 id="vue2-安装"><a href="#vue2-安装" class="header-anchor">#</a> <strong>Vue2</strong> 安装</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># npm Vue2</span>
<span class="token function">npm</span> <span class="token function">install</span> minivuebarrage@0.3.5

or
<span class="token comment"># yarn Vue2</span>
<span class="token function">yarn</span> <span class="token function">add</span> minivuebarrage@0.3.5
</code></pre></div><h3 id="vue3安装"><a href="#vue3安装" class="header-anchor">#</a> <strong>Vue3</strong>安装</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token comment"># yarn Vue3</span>
<span class="token function">yarn</span> <span class="token function">add</span> minivuebarrage@1.0.1

or
<span class="token comment"># npm Vue3</span>
<span class="token function">npm</span> i minivuebarrage@1.0.1

</code></pre></div><h2 id="registry"><a href="#registry" class="header-anchor">#</a> registry</h2> <h3 id="vue2"><a href="#vue2" class="header-anchor">#</a> vue2</h3> <p><strong>全局注册</strong></p> <div class="language-JS extra-class"><pre class="language-js"><code><span class="token comment">//全局组件</span>
<span class="token keyword">import</span> miniVueBarrage <span class="token keyword">from</span> <span class="token string">'minivuebarrage'</span>
<span class="token keyword">import</span> <span class="token string">'minivuebarrage/lib/mini-vue-barrage.css'</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>miniVueBarrage<span class="token punctuation">)</span>
</code></pre></div><p><strong>局部注册</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 局部组件</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> miniVueBarrage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;minivuebarrage&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;minivuebarrage/lib/mini-vue-barrage.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span><span class="token punctuation">{</span>
        miniVueBarrage
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="vue3"><a href="#vue3" class="header-anchor">#</a> Vue3</h3> <p><strong>全局注册</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> miniVueBarrage <span class="token keyword">from</span> <span class="token string">'minivuebarrage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'minivuebarrage/lib/index.css'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>miniVueBarrage<span class="token punctuation">)</span>
</code></pre></div><p><strong>局部注册</strong></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>miniVueBarrage</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>barrages<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fullScreen</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> miniVueBarrage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'minivuebarrage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'minivuebarrage/lib/index.css'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> barrages <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="usage"><a href="#usage" class="header-anchor">#</a> Usage</h2> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>panel-wapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>miniVueBarrage</span>
      <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>barrages<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:fullScreen</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fullScreenSwitch<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:showBarrage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showBarrage<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:opacity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>opacityValue<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:pausedFlag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>barragePaused<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:createFrequencyTime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>times<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>#000'<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:bgColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>#ddd'<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>barrageRef<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">batchDestroy</span>
      <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickHandle<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeHandle<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@complete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>completeHandle<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@mouseenter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mouseenterHandle<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@mouseleave</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mouseleaveHandle<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#icon</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>miniVueBarrage</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> barrageDatas <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../../../mock'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> miniVueBarrage <span class="token keyword">from</span> <span class="token string">'../index.vue'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> barrages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>barrageDatas<span class="token punctuation">]</span>
<span class="token keyword">const</span> opacityValue <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> barrageRef<span class="token operator">=</span> ref<span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> miniVueBarrage<span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> barrageHeightValue <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">35</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> fullScreenSwitch <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> showBarrage <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> barragePaused <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> barrageContent <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> curRenderCount <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> times <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">BarrageItem</span> <span class="token punctuation">{</span>
  id<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//弹幕id</span>
  delay<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">// 当前弹幕运行一屏的时间</span>
  iconUrl<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token comment">// 弹幕需要图标的 url</span>
  <span class="token literal-property property">content</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token comment">// 弹幕文本内容</span>
  color<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token comment">// 当前弹幕的文字颜色</span>
  bgColor<span class="token operator">?</span><span class="token operator">:</span> string <span class="token comment">// 当前弹幕的背景颜色</span>
  type<span class="token operator">?</span><span class="token operator">:</span> barrrageTypeGroup <span class="token comment">// 弹幕的类型  如果为user 则 添加 user的样式</span>
<span class="token punctuation">}</span>
<span class="token comment">// 添加弹幕</span>
<span class="token keyword">const</span> <span class="token function-variable function">addHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>barrageContent<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> <span class="token literal-property property">item</span><span class="token operator">:</span>BarrageItem <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> barrageContent<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'user'</span>
  <span class="token punctuation">}</span>
  barrageRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">create</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 重新开始 渲染一屏弹幕</span>
<span class="token keyword">const</span> <span class="token function-variable function">startHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  barrageRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 更新当前渲染的弹幕条数</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">params</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  curRenderCount<span class="token punctuation">.</span>value <span class="token operator">=</span> params<span class="token punctuation">.</span>renderCount
<span class="token punctuation">}</span>
<span class="token comment">// 重置弹幕</span>
<span class="token keyword">const</span> <span class="token function-variable function">resetHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  barrageRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 清除弹幕</span>
<span class="token keyword">const</span> <span class="token function-variable function">clearHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  barrageRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">clickHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">e</span><span class="token operator">:</span> MouseEvent <span class="token punctuation">,</span> <span class="token literal-property property">item</span><span class="token operator">:</span> object</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'item'</span> <span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">completeHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'弹幕运行完成'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">mouseenterHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">e</span><span class="token operator">:</span> MouseEvent <span class="token punctuation">,</span> <span class="token literal-property property">item</span><span class="token operator">:</span> object</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'item'</span> <span class="token punctuation">,</span> e<span class="token punctuation">.</span>target <span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">mouseleaveHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">e</span><span class="token operator">:</span> MouseEvent <span class="token punctuation">,</span> <span class="token literal-property property">item</span><span class="token operator">:</span> object</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'item'</span> <span class="token punctuation">,</span> e<span class="token punctuation">.</span>target <span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <h3 id="attributes"><a href="#attributes" class="header-anchor">#</a> Attributes</h3> <table><thead><tr><th>参数</th> <th>说明</th> <th>类型</th> <th>可选值</th> <th>默认值</th></tr></thead> <tbody><tr><td>modelValue</td> <td>弹幕数组</td> <td>Array</td> <td>--</td> <td>[]</td></tr> <tr><td>pausedFlag</td> <td>是否暂停弹幕</td> <td>Boolean</td> <td>--</td> <td>false</td></tr> <tr><td>startIcon</td> <td>图标是否从 开始位置显示 ，反之 末尾显示</td> <td>Boolean</td> <td>--</td> <td>true</td></tr> <tr><td>fullScreen</td> <td>是否需要全屏弹幕</td> <td>Boolean</td> <td>--</td> <td>false</td></tr> <tr><td>iconUrlInShow</td> <td>iconUrl 存在时 是否需要显示 图标</td> <td>Boolean</td> <td>--</td> <td>true</td></tr> <tr><td>delay</td> <td>弹幕运行一屏的秒数</td> <td>Number</td> <td>--</td> <td>12</td></tr> <tr><td>createFrequencyTime</td> <td>创建弹幕频率的秒数</td> <td>Number</td> <td>--</td> <td>1</td></tr> <tr><td>createNum</td> <td>一次定时器触发创建几条</td> <td>Number</td> <td>--</td> <td>1</td></tr> <tr><td>opacity</td> <td>弹幕的透明度</td> <td>Number | String</td> <td>--</td> <td>1</td></tr> <tr><td>showBarrage</td> <td>是否显示弹幕</td> <td>Boolean</td> <td>--</td> <td>true</td></tr> <tr><td>baseLineHeight</td> <td>弹幕的基本行高</td> <td>Number</td> <td>--</td> <td>10</td></tr> <tr><td>color</td> <td>弹幕的文字颜色</td> <td>String</td> <td>--</td> <td>#000</td></tr> <tr><td>heigth</td> <td>弹幕高度</td> <td>Number | String</td> <td>--</td> <td>35px</td></tr> <tr><td>bgColor</td> <td>弹幕的背景颜色</td> <td>String</td> <td>#xxx | rgba</td> <td>#fec821</td></tr> <tr><td>batchDestroy</td> <td>是否需要批量删除弹幕，一次性销毁，提高性能（可选选项）</td> <td>Boolean</td> <td>50</td> <td>false</td></tr></tbody></table> <h3 id="slots"><a href="#slots" class="header-anchor">#</a> Slots</h3> <table><thead><tr><th>插槽名称</th> <th>说明</th></tr></thead> <tbody><tr><td>icon</td> <td>用于弹幕 显示图标插槽</td></tr></tbody></table> <h3 id="events"><a href="#events" class="header-anchor">#</a> Events</h3> <table><thead><tr><th>事件名称</th> <th>说明</th> <th></th></tr></thead> <tbody><tr><td>change</td> <td>弹幕每次创建或者发生改变时触发</td> <td>(params : object) =&gt; {}</td></tr> <tr><td>complete</td> <td>弹幕所有数据运行完成触发</td> <td>()  =&gt; {}</td></tr> <tr><td>click</td> <td>点击某个弹幕触发的事件</td> <td>(e , item: BarrageItem) =&gt; {}</td></tr> <tr><td>mouseenter</td> <td>鼠标移入某个弹幕的身上时触发该事件</td> <td>(e , item: BarrageItem) =&gt; {}</td></tr> <tr><td>mouseleave</td> <td>鼠标移出某个弹幕的身上时触发该事件</td> <td>(e , item: BarrageItem) =&gt; {}</td></tr></tbody></table> <h3 id="instance-methods"><a href="#instance-methods" class="header-anchor">#</a> instance methods</h3> <h4 id="instance-datatyps"><a href="#instance-datatyps" class="header-anchor">#</a> instance dataTyps</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">barrrageTypeGroup</span> <span class="token operator">=</span> <span class="token string">'default'</span> <span class="token operator">|</span> <span class="token string">'user'</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">BarrageItem</span> <span class="token punctuation">{</span>
  id<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token comment">//弹幕id</span>
  delay<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token comment">// 当前弹幕运行一屏的时间</span>
  iconUrl<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// 弹幕需要图标的 url</span>
  content<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// 弹幕文本内容</span>
  color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// 当前弹幕的文字颜色</span>
  bgColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">// 当前弹幕的背景颜色</span>
  type<span class="token operator">?</span><span class="token operator">:</span> barrrageTypeGroup <span class="token comment">// 弹幕的类型  如果为user 则 添加 user的样式</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th>方法名称</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td>create</td> <td>创建一条弹幕</td> <td>BarrageItem</td></tr> <tr><td>reset</td> <td>重置弹幕</td> <td>--</td></tr> <tr><td>clear</td> <td>清屏，将当前屏幕上的弹幕全部清除</td> <td>--</td></tr> <tr><td>close</td> <td>关闭弹幕</td> <td>--</td></tr> <tr><td>start</td> <td>重新运行一屏弹幕</td> <td>--</td></tr> <tr><td>changeColor</td> <td>改变弹幕的颜色</td> <td>{ color: '#fff' }</td></tr></tbody></table> <h2 id="license"><a href="#license" class="header-anchor">#</a> License</h2> <p>MIT</p> <h3 id="keywords"><a href="#keywords" class="header-anchor">#</a> Keywords</h3> <p>minivuebarrage , barrage , 弹幕 vuebarrage vueBarrage , BARRAGE</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/" class="prev router-link-active">
        vue2
      </a></span> <span class="next"><a href="/web/javascript/javascript.html">
        JavaScript
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.feb21b2a.js" defer></script><script src="/assets/js/2.75ba61f2.js" defer></script><script src="/assets/js/19.c5e4d633.js" defer></script>
  </body>
</html>
