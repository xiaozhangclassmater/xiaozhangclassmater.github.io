<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mysql数据库笔记</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.a90809c0.css" as="style"><link rel="preload" href="/assets/js/app.feb21b2a.js" as="script"><link rel="preload" href="/assets/js/2.75ba61f2.js" as="script"><link rel="preload" href="/assets/js/8.65918f4e.js" as="script"><link rel="prefetch" href="/assets/js/10.be2d4676.js"><link rel="prefetch" href="/assets/js/11.a6cdee63.js"><link rel="prefetch" href="/assets/js/12.f66c58d3.js"><link rel="prefetch" href="/assets/js/13.f6a7ab74.js"><link rel="prefetch" href="/assets/js/14.f2495746.js"><link rel="prefetch" href="/assets/js/15.501e6ef6.js"><link rel="prefetch" href="/assets/js/16.f88cdb61.js"><link rel="prefetch" href="/assets/js/17.cee20973.js"><link rel="prefetch" href="/assets/js/18.45990e00.js"><link rel="prefetch" href="/assets/js/19.c5e4d633.js"><link rel="prefetch" href="/assets/js/20.72e018c7.js"><link rel="prefetch" href="/assets/js/21.bc6f4b58.js"><link rel="prefetch" href="/assets/js/22.233bac0d.js"><link rel="prefetch" href="/assets/js/3.ec1e420f.js"><link rel="prefetch" href="/assets/js/4.0a0d7342.js"><link rel="prefetch" href="/assets/js/5.fb1d9eba.js"><link rel="prefetch" href="/assets/js/6.695dc6e3.js"><link rel="prefetch" href="/assets/js/7.f7cf561e.js"><link rel="prefetch" href="/assets/js/9.74b6acd4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a90809c0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://xiaozhangclassmater.github.io/minivueBarrage-docs-web/#/dashboard" target="_self" class="nav-link external">
  首页
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web知识广场" class="dropdown-title"><span class="title">web知识广场</span> <span class="arrow down"></span></button> <button type="button" aria-label="web知识广场" class="mobile-dropdown-title"><span class="title">web知识广场</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/javascript/javascript.html" class="nav-link">
  JavaScript笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/vue/vue3.html" class="nav-link">
  vue笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/React/React.html" class="nav-link">
  react笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/webpack/webpack.html" class="nav-link">
  webpack笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/Browser/Browser.html" class="nav-link">
  浏览器笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NodeJs系列" class="dropdown-title"><span class="title">NodeJs系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="NodeJs系列" class="mobile-dropdown-title"><span class="title">NodeJs系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/node/Node.html" class="nav-link">
  NodeJS笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/ORM/ORM.html" class="nav-link">
  Node_ORM框架笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/express/express.html" class="nav-link">
  express笔记
</a></li></ul></div></div><div class="nav-item"><a href="/web/sql/mysql.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  sql笔记
</a></div><div class="nav-item"><a href="/web/netWork/netWork.html" class="nav-link">
  计算机网络笔记
</a></div><div class="nav-item"><a href="/web/InterviewQuestion/InterviewQuestion.html" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/web/studyNote/studyNote.html" class="nav-link">
  工作笔记
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://xiaozhangclassmater.github.io/minivueBarrage-docs-web/#/dashboard" target="_self" class="nav-link external">
  首页
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web知识广场" class="dropdown-title"><span class="title">web知识广场</span> <span class="arrow down"></span></button> <button type="button" aria-label="web知识广场" class="mobile-dropdown-title"><span class="title">web知识广场</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/javascript/javascript.html" class="nav-link">
  JavaScript笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/vue/vue3.html" class="nav-link">
  vue笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/React/React.html" class="nav-link">
  react笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/webpack/webpack.html" class="nav-link">
  webpack笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/Browser/Browser.html" class="nav-link">
  浏览器笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NodeJs系列" class="dropdown-title"><span class="title">NodeJs系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="NodeJs系列" class="mobile-dropdown-title"><span class="title">NodeJs系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/node/Node.html" class="nav-link">
  NodeJS笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/ORM/ORM.html" class="nav-link">
  Node_ORM框架笔记
</a></li><li class="dropdown-item"><!----> <a href="/web/express/express.html" class="nav-link">
  express笔记
</a></li></ul></div></div><div class="nav-item"><a href="/web/sql/mysql.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  sql笔记
</a></div><div class="nav-item"><a href="/web/netWork/netWork.html" class="nav-link">
  计算机网络笔记
</a></div><div class="nav-item"><a href="/web/InterviewQuestion/InterviewQuestion.html" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/web/studyNote/studyNote.html" class="nav-link">
  工作笔记
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/" class="sidebar-heading clickable router-link-active"><span>快速上手</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>个人笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/web/javascript/javascript.html" class="sidebar-link">JavaScript</a></li><li><a href="/web/webpack/webpack.html" class="sidebar-link">webpack</a></li><li><a href="/web/vue/vue3.html" class="sidebar-link">vue3</a></li><li><a href="/web/React/React.html" class="sidebar-link">React</a></li><li><a href="/web/node/Node.html" class="sidebar-link">NodeJS</a></li><li><a href="/web/sql/mysql.html" aria-current="page" class="active sidebar-link">Mysql</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/sql/mysql.html#数据库能干什么🎄" class="sidebar-link">数据库能干什么🎄</a></li><li class="sidebar-sub-header"><a href="/web/sql/mysql.html#数据库的类型🎇" class="sidebar-link">数据库的类型🎇</a></li><li class="sidebar-sub-header"><a href="/web/sql/mysql.html#数据库的术语🎉" class="sidebar-link">数据库的术语🎉</a></li><li class="sidebar-sub-header"><a href="/web/sql/mysql.html#数据库的操作🎈" class="sidebar-link">数据库的操作🎈</a></li><li class="sidebar-sub-header"><a href="/web/sql/mysql.html#sql中的笛卡尔积🎗" class="sidebar-link">sql中的笛卡尔积🎗</a></li><li class="sidebar-sub-header"><a href="/web/sql/mysql.html#表的连接🎢" class="sidebar-link">表的连接🎢</a></li><li class="sidebar-sub-header"><a href="/web/sql/mysql.html#sql练习🎨" class="sidebar-link">sql练习🎨</a></li><li class="sidebar-sub-header"><a href="/web/sql/mysql.html#sql中的函数" class="sidebar-link">sql中的函数</a></li><li class="sidebar-sub-header"><a href="/web/sql/mysql.html#sql练习2🎨" class="sidebar-link">sql练习2🎨</a></li><li class="sidebar-sub-header"><a href="/web/sql/mysql.html#数据库-视图" class="sidebar-link">数据库 视图</a></li><li class="sidebar-sub-header"><a href="/web/sql/mysql.html#mysql2-数据库驱动" class="sidebar-link">mysql2 数据库驱动</a></li></ul></li><li><a href="/web/ORM/ORM.html" class="sidebar-link">Node_ORM</a></li><li><a href="/web/express/express.html" class="sidebar-link">express</a></li><li><a href="/web/Browser/Browser.html" class="sidebar-link">Browser</a></li><li><a href="/web/InterviewQuestion/InterviewQuestion.html" class="sidebar-link">面试题</a></li><li><a href="/web/netWork/netWork.html" class="sidebar-link">计算机网络</a></li><li><a href="/web/studyNote/studyNote.html" class="sidebar-link">工作笔记</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mysql数据库笔记"><a href="#mysql数据库笔记" class="header-anchor">#</a> mysql数据库笔记</h1> <h2 id="数据库能干什么🎄"><a href="#数据库能干什么🎄" class="header-anchor">#</a> 数据库能干什么🎄</h2> <ol><li>持久化存储数据</li> <li>备份和恢复数据</li> <li>快速的存取数据</li> <li>权限控制</li></ol> <h3 id="存储方式"><a href="#存储方式" class="header-anchor">#</a> 存储方式</h3> <p>根据数据存储可分为 <code>内存存储</code> 和 <code>硬盘存储</code></p> <h2 id="数据库的类型🎇"><a href="#数据库的类型🎇" class="header-anchor">#</a> 数据库的类型🎇</h2> <h3 id="关系型数据库"><a href="#关系型数据库" class="header-anchor">#</a> 关系型数据库</h3> <h4 id="特点"><a href="#特点" class="header-anchor">#</a> 特点</h4> <p>​	1：以表和表的关联构成的数据结构</p> <h4 id="优点"><a href="#优点" class="header-anchor">#</a> 优点</h4> <ol><li>数据持久化存储在硬盘中，能够备份和恢复</li> <li>能够表达复杂的数据关系</li> <li>强大的查询语言，能精确查找想要的数据</li></ol> <h4 id="缺点"><a href="#缺点" class="header-anchor">#</a> 缺点</h4> <ol><li>针对数据量大的情况，读写性能差</li> <li>数据结构比较固定</li></ol> <h4 id="用途"><a href="#用途" class="header-anchor">#</a> 用途</h4> <ol><li>用于存储一些固定的数据，比如文章内容，文章数据等</li> <li>存储结构复杂·的数据</li></ol> <h4 id="代表"><a href="#代表" class="header-anchor">#</a> 代表</h4> <ol><li>Oracle</li> <li>Mysql</li> <li>SqlServer</li></ol> <h3 id="非关系型数据库"><a href="#非关系型数据库" class="header-anchor">#</a> 非关系型数据库</h3> <h4 id="特点-2"><a href="#特点-2" class="header-anchor">#</a> 特点</h4> <ol><li>简单的结构存储数据</li> <li>文档型存储</li> <li>键值对 <code>key</code> <code>value</code></li></ol> <h4 id="优点-2"><a href="#优点-2" class="header-anchor">#</a> 优点</h4> <ol><li>存储在内存当中，读取数据快</li> <li>格式灵活</li></ol> <h4 id="缺点-2"><a href="#缺点-2" class="header-anchor">#</a> 缺点</h4> <ol><li>不能持久化存储数据</li> <li>对复杂的数据查询效率不好</li></ol> <h4 id="用途-2"><a href="#用途-2" class="header-anchor">#</a> 用途</h4> <ol><li>存储结构简单的数据</li></ol> <h4 id="代表-2"><a href="#代表-2" class="header-anchor">#</a> 代表</h4> <ol><li>redis</li> <li>MongDB</li> <li>Membase</li></ol> <h2 id="数据库的术语🎉"><a href="#数据库的术语🎉" class="header-anchor">#</a> 数据库的术语🎉</h2> <ol><li>DB ： database 数据库</li> <li>DBA  :  database administrator (数据库管理员)</li> <li>DBMS : databasae management system(数据库系统管理员)</li> <li>DBS : database System （数据库系统）</li></ol> <h2 id="数据库的操作🎈"><a href="#数据库的操作🎈" class="header-anchor">#</a> 数据库的操作🎈</h2> <h3 id="主键"><a href="#主键" class="header-anchor">#</a> 主键</h3> <p>​	表中的主键，代表唯一的值，不允许出现重复。</p> <h3 id="外键"><a href="#外键" class="header-anchor">#</a> 外键</h3> <p>​	通常用于关联另外一张表的字段</p> <h3 id="增删改查"><a href="#增删改查" class="header-anchor">#</a> 增删改查</h3> <h4 id="增"><a href="#增" class="header-anchor">#</a> 增</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- INSERT INTO `test`.`user` (id,name,age)VALUES(1,&quot;张三&quot; , '18')</span>

<span class="token comment">-- 带有 default sql  INSERT INTO `test`.`user` (id,name,age)VALUES(2,&quot;小金&quot; ,default) </span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>test<span class="token punctuation">`</span></span><span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;小金&quot;</span> <span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&quot;小刘&quot;</span> <span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="删"><a href="#删" class="header-anchor">#</a> 删</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span>
</code></pre></div><h4 id="改"><a href="#改" class="header-anchor">#</a> 改</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> age <span class="token operator">=</span> <span class="token number">18</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">3</span>
</code></pre></div><h4 id="查"><a href="#查" class="header-anchor">#</a> 查</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// 条件查询</span>

<span class="token keyword">select</span> name <span class="token keyword">as</span> n <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token comment">// 别名</span>

<span class="token keyword">SELECT</span> <span class="token keyword">case</span> <span class="token keyword">when</span> sex <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">THEN</span> <span class="token string">&quot;男&quot;</span> <span class="token keyword">else</span> <span class="token string">'女'</span> <span class="token keyword">end</span> <span class="token keyword">as</span> sex <span class="token keyword">from</span> user4

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">where</span> id <span class="token operator">in</span> （<span class="token number">1</span> <span class="token punctuation">,</span> <span class="token number">2</span>）

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span> <span class="token keyword">WHERE</span>  age <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token comment">// 查询age为 null 的</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span>  <span class="token keyword">user</span> <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%鱼%'</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'张%'</span> <span class="token operator">and</span> id <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span>  <span class="token keyword">user</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> id <span class="token keyword">ASC</span> 
</code></pre></div><h3 id="where"><a href="#where" class="header-anchor">#</a> where</h3> <p>运行机制 ： 运行在 <code>from</code>之前</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">case</span> <span class="token keyword">when</span> sex <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">then</span> <span class="token string">'男'</span> <span class="token keyword">else</span> <span class="token string">'女'</span> <span class="token keyword">end</span> <span class="token keyword">as</span> sex <span class="token keyword">from</span> <span class="token keyword">user</span>  <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span>
</code></pre></div><h3 id="distinct"><a href="#distinct" class="header-anchor">#</a> distinct</h3> <p>条件 ： 必须出现在 查询 <code>select</code>关键字之后。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> name <span class="token keyword">from</span> <span class="token keyword">user</span>
</code></pre></div><h3 id="like的用法"><a href="#like的用法" class="header-anchor">#</a> like的用法</h3> <p><code>like %A%</code></p> <p>查询关于A字符的所有记录</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span>  <span class="token keyword">user</span> <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%A%'</span>
</code></pre></div><p><code>like %A</code></p> <p>查询以A<code>结尾</code>的相关记录</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span>  <span class="token keyword">user</span> <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%A'</span>
</code></pre></div><p><code>like A%</code></p> <p>查询以A%<code>开头</code>的相关记录</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span>  <span class="token keyword">user</span> <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'A%'</span>
</code></pre></div><p><code>like A_</code>
查询 所有 以A开头的并且是两个字的记录</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span>  <span class="token keyword">user</span> <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'A_'</span>
</code></pre></div><p><img src="/assets/img/1693557736311.22f7ed25.png" alt="1693557736311"></p> <p><img src="/assets/img/1693557764344.816a3c37.png" alt="1693557764344"></p> <h3 id="升序降序查询"><a href="#升序降序查询" class="header-anchor">#</a> 升序降序查询</h3> <p><strong>运行时机</strong></p> <blockquote><p>运行在 from 之后</p></blockquote> <h4 id="升序"><a href="#升序" class="header-anchor">#</a> 升序</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span>  <span class="token keyword">user</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> id <span class="token keyword">ASC</span> <span class="token comment">// 按照id 进行升序排列</span>
</code></pre></div><h4 id="降序"><a href="#降序" class="header-anchor">#</a> 降序</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span>  <span class="token keyword">user</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> id <span class="token keyword">desc</span> <span class="token comment">// 按照id降序</span>
</code></pre></div><h4 id="多条件排序"><a href="#多条件排序" class="header-anchor">#</a> 多条件排序</h4> <p>多个<code>降序</code> or <code>升序</code> 条件</p> <p>​	当A条件 满足排序是 且条件结果一致时，可以根据 <code>order by</code> ,追加排序条件</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">order</span> <span class="token keyword">by</span> sex <span class="token keyword">asc</span><span class="token punctuation">,</span> counter <span class="token keyword">desc</span> <span class="token comment">// 按照 sex 性别进行升序 然后 按照 每个人的 counter降序 处理结果</span>
</code></pre></div><h2 id="sql中的笛卡尔积🎗"><a href="#sql中的笛卡尔积🎗" class="header-anchor">#</a> sql中的笛卡尔积🎗</h2> <p>什么是 <code>笛卡尔积？</code></p> <p>​	当每一条记录与之对应多条记录产生的结果的总和，即为笛卡尔积。</p> <p><strong>sql表示</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employee dept 
</code></pre></div><h2 id="表的连接🎢"><a href="#表的连接🎢" class="header-anchor">#</a> 表的连接🎢</h2> <h3 id="left-join-左连接"><a href="#left-join-左连接" class="header-anchor">#</a> left join(左连接)</h3> <p>desc : 以左表为基准，判断每一行数据的关联条件到表中去找，找到了则添加到临时表中。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span>  
ep<span class="token punctuation">.</span>id <span class="token keyword">as</span> id<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>name <span class="token keyword">as</span> name<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>location <span class="token keyword">as</span> location<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>ismale <span class="token keyword">as</span> ismale<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>salary <span class="token keyword">as</span> salary<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>deptId <span class="token keyword">as</span> deptId<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>joinDate <span class="token keyword">as</span> joinDate<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>birthday <span class="token keyword">as</span> birthday
<span class="token keyword">from</span> employee <span class="token keyword">as</span> ep 
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> department <span class="token keyword">as</span> dt <span class="token keyword">on</span>  ep<span class="token punctuation">.</span>id <span class="token operator">=</span> dt<span class="token punctuation">.</span>id
</code></pre></div><p><img src="data:image/png;base64,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" alt="1693712649600"></p> <h3 id="right-join-右连接"><a href="#right-join-右连接" class="header-anchor">#</a> right join (右连接)</h3> <p>desc : 以右表为基准，判断每一行数据的关联条件到表中去找，找到了则添加到临时表中。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span>  
ep<span class="token punctuation">.</span>id <span class="token keyword">as</span> id<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>name <span class="token keyword">as</span> name<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>location <span class="token keyword">as</span> location<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>ismale <span class="token keyword">as</span> ismale<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>salary <span class="token keyword">as</span> salary<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>deptId <span class="token keyword">as</span> deptId<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>joinDate <span class="token keyword">as</span> joinDate<span class="token punctuation">,</span>
ep<span class="token punctuation">.</span>birthday <span class="token keyword">as</span> birthday
<span class="token keyword">from</span> employee <span class="token keyword">as</span> ep 

<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span>  department <span class="token keyword">as</span> dt <span class="token keyword">on</span>  ep<span class="token punctuation">.</span>id <span class="token operator">=</span> dt<span class="token punctuation">.</span>id
</code></pre></div><h3 id="inner-join-内连接"><a href="#inner-join-内连接" class="header-anchor">#</a> inner join （内连接）</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> 
e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">as</span> name<span class="token punctuation">,</span>
<span class="token keyword">case</span> <span class="token keyword">WHEN</span> e<span class="token punctuation">.</span>ismale <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">THEN</span> <span class="token string">&quot;男&quot;</span> <span class="token keyword">else</span> <span class="token string">&quot;女&quot;</span> <span class="token keyword">END</span> <span class="token keyword">as</span> ismale<span class="token punctuation">,</span>
e<span class="token punctuation">.</span>joinDate <span class="token keyword">as</span> joinDate<span class="token punctuation">,</span>
e<span class="token punctuation">.</span>salary <span class="token keyword">as</span> salary<span class="token punctuation">,</span>
d<span class="token punctuation">.</span>name <span class="token keyword">as</span> deptname<span class="token punctuation">,</span>
c<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">as</span> companyname
<span class="token keyword">from</span> employee <span class="token keyword">as</span> e 
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> department <span class="token keyword">as</span> d <span class="token keyword">on</span> e<span class="token punctuation">.</span>deptId <span class="token operator">=</span> d<span class="token punctuation">.</span>id 
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> company <span class="token keyword">as</span> c <span class="token keyword">on</span> c<span class="token punctuation">.</span>id <span class="token operator">=</span> d<span class="token punctuation">.</span>companyId
<span class="token keyword">where</span> c<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">'蚂蚁金服'</span> <span class="token operator">or</span> c<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">'腾讯科技'</span>
</code></pre></div><h2 id="sql练习🎨"><a href="#sql练习🎨" class="header-anchor">#</a> sql练习🎨</h2> <p>1 : <strong>查询user表，得到账号为admin，密码为123456的用户</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">where</span> loginId <span class="token operator">=</span> <span class="token string">'admin'</span> <span class="token operator">and</span> password <span class="token operator">=</span> <span class="token string">'123456'</span>
</code></pre></div><p>2 : 查询员工表 ， 按照 员工的入职时间降序排序，并且使用分页查询</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employee <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token keyword">desc</span> <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span>
</code></pre></div><p>3：显示出所有员工的姓名、性别(使用男或女显示) 、入职时间、薪水、所属部门(显示部门名称) 、所属公司 (显示公司名称)</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> 
e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">as</span> name<span class="token punctuation">,</span>
<span class="token keyword">case</span> <span class="token keyword">WHEN</span> e<span class="token punctuation">.</span>ismale <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">THEN</span> <span class="token string">&quot;男&quot;</span> <span class="token keyword">else</span> <span class="token string">&quot;女&quot;</span> <span class="token keyword">END</span> <span class="token keyword">as</span> ismale<span class="token punctuation">,</span>
e<span class="token punctuation">.</span>joinDate <span class="token keyword">as</span> joinDate<span class="token punctuation">,</span>
e<span class="token punctuation">.</span>salary <span class="token keyword">as</span> salary<span class="token punctuation">,</span>
d<span class="token punctuation">.</span>name <span class="token keyword">as</span> deptname<span class="token punctuation">,</span>
c<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">as</span> companyname
<span class="token keyword">from</span> employee <span class="token keyword">as</span> e 
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> department <span class="token keyword">as</span> d <span class="token keyword">on</span> e<span class="token punctuation">.</span>deptId <span class="token operator">=</span> d<span class="token punctuation">.</span>id 
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> company <span class="token keyword">as</span> c <span class="token keyword">on</span> c<span class="token punctuation">.</span>id <span class="token operator">=</span> d<span class="token punctuation">.</span>companyId
</code></pre></div><p>4：查询腾讯和蚂蚁金服的所有员工姓名、性别、入职时间、部门名、公司名</p> <div class="language-sql extra-class"><pre class="language-sql"><code> <span class="token keyword">select</span> 
e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">as</span> name<span class="token punctuation">,</span>
<span class="token keyword">case</span> <span class="token keyword">WHEN</span> e<span class="token punctuation">.</span>ismale <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">THEN</span> <span class="token string">&quot;男&quot;</span> <span class="token keyword">else</span> <span class="token string">&quot;女&quot;</span> <span class="token keyword">END</span> <span class="token keyword">as</span> ismale<span class="token punctuation">,</span>
e<span class="token punctuation">.</span>joinDate <span class="token keyword">as</span> joinDate<span class="token punctuation">,</span>
d<span class="token punctuation">.</span>name <span class="token keyword">as</span> deptname<span class="token punctuation">,</span>
c<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">as</span> companyname
<span class="token keyword">from</span> employee <span class="token keyword">as</span> e 
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> department <span class="token keyword">as</span> d <span class="token keyword">on</span> e<span class="token punctuation">.</span>deptId <span class="token operator">=</span> d<span class="token punctuation">.</span>id 
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> company <span class="token keyword">as</span> c <span class="token keyword">on</span> c<span class="token punctuation">.</span>id <span class="token operator">=</span> d<span class="token punctuation">.</span>companyId
<span class="token keyword">where</span> c<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">'蚂蚁金服'</span> <span class="token operator">or</span> c<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">'腾讯科技'</span>
</code></pre></div><h2 id="sql中的函数"><a href="#sql中的函数" class="header-anchor">#</a> sql中的函数</h2> <h3 id="数学函数"><a href="#数学函数" class="header-anchor">#</a> 数学函数</h3> <ol><li><p>select ABS (-1) -- 返回绝对值</p></li> <li><p>SELECT CEILING(1.4) -- 向上取整</p></li> <li><p>select FLOOR(1.5) -- 向下取整</p></li> <li><p>select MOD(10,2) --返回取模的余数</p></li> <li><p>select TRUNCATE(8512.56645,2) --截取小数点后几位</p></li></ol> <p>...等等</p> <h2 id="sql练习2🎨"><a href="#sql练习2🎨" class="header-anchor">#</a> sql练习2🎨</h2> <p>1 ： 查询渡一每个部门的员工数量</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token keyword">as</span> count <span class="token keyword">from</span> employee <span class="token keyword">as</span> e

<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span>  department <span class="token keyword">as</span> d <span class="token keyword">on</span> e<span class="token punctuation">.</span>deptId <span class="token operator">=</span> d<span class="token punctuation">.</span>id
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> company <span class="token keyword">as</span> c <span class="token keyword">on</span> d<span class="token punctuation">.</span>companyId <span class="token operator">=</span> c<span class="token punctuation">.</span>id 

<span class="token keyword">where</span> c<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'渡一教育'</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span>
<span class="token comment">-- HAVING c.name = '渡一教育'</span>
</code></pre></div><p>2 : 查询每个公司的员工数量</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> c<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">as</span> companyname <span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> count <span class="token keyword">from</span> employee <span class="token keyword">as</span> e 
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> department <span class="token keyword">as</span> d <span class="token keyword">on</span> e<span class="token punctuation">.</span>deptId <span class="token operator">=</span> d<span class="token punctuation">.</span>id
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> company <span class="token keyword">as</span> c <span class="token keyword">on</span> c<span class="token punctuation">.</span>id <span class="token operator">=</span> d<span class="token punctuation">.</span>companyId
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> c<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span>
</code></pre></div><p>3 : 查询员工人数大于200的公司信息</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> c<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">as</span> companyname <span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> count <span class="token keyword">from</span> employee <span class="token keyword">as</span> e 
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> department <span class="token keyword">as</span> d <span class="token keyword">on</span> e<span class="token punctuation">.</span>deptId <span class="token operator">=</span> d<span class="token punctuation">.</span>id
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> company <span class="token keyword">as</span> c <span class="token keyword">on</span> c<span class="token punctuation">.</span>id <span class="token operator">=</span> d<span class="token punctuation">.</span>companyId
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> c<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span>
<span class="token keyword">HAVING</span> count <span class="token operator">&gt;</span> <span class="token number">200</span>
</code></pre></div><p>4 : 查询渡一所有名字为两个字和三个字的员工对应人数</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> empCount <span class="token keyword">from</span> employee <span class="token keyword">where</span> name <span class="token operator">like</span>  <span class="token string">'__'</span> <span class="token operator">or</span>  name <span class="token operator">like</span>  <span class="token string">'___'</span> 
</code></pre></div><h2 id="数据库-视图"><a href="#数据库-视图" class="header-anchor">#</a> 数据库 视图</h2> <p><strong>作用</strong></p> <p>视图的作用？</p> <p>​	视图 帮助我们能够将重复的sql进行封装，直接查询视图即可获取结果。</p> <h3 id="views"><a href="#views" class="header-anchor">#</a> views</h3> <p>如何创建一个 <code>视图</code>？</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">view</span> selectEmp <span class="token keyword">as</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><h2 id="mysql2-数据库驱动"><a href="#mysql2-数据库驱动" class="header-anchor">#</a> mysql2 数据库驱动</h2> <h3 id="驱动程序"><a href="#驱动程序" class="header-anchor">#</a> 驱动程序</h3> <p><strong>什么是驱动程序？</strong></p> <p>连接 内存与其他介质的桥梁。</p> <h3 id="创建数据库连接"><a href="#创建数据库连接" class="header-anchor">#</a> 创建数据库连接</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mysql2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> connection <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createConnection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">host</span>     <span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">user</span>     <span class="token operator">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span> <span class="token operator">:</span> <span class="token string">'cjxy200420'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">database</span> <span class="token operator">:</span> <span class="token string">'stydymysql'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="连接到数据库"><a href="#连接到数据库" class="header-anchor">#</a> 连接到数据库</h4> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>connection<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="操作数据"><a href="#操作数据" class="header-anchor">#</a> 操作数据</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>connection<span class="token punctuation">.</span><span class="token function">queyy</span><span class="token punctuation">(</span>sql <span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">er <span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// connection.end(); 断开数据库连接 </span>
</code></pre></div><h3 id="使用mysql2中的promise"><a href="#使用mysql2中的promise" class="header-anchor">#</a> 使用mysql2中的promise</h3> <p><code>mysql2</code>支持异步查询，你可以通过<code>async</code> and <code>await</code> 进行配合使用，以得到最好的同步代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mysql2/promise'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> connection <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createConnection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">host</span> <span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">port</span> <span class="token operator">:</span> <span class="token number">3306</span><span class="token punctuation">,</span>
  <span class="token literal-property property">user</span> <span class="token operator">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span> <span class="token operator">:</span> <span class="token string">'cjxy200420'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">database</span> <span class="token operator">:</span> <span class="token string">'stydymysql'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token parameter">sql</span> <span class="token punctuation">)</span><span class="token punctuation">{</span> 
  <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">await</span> connection<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">Main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>result<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token string">'select * from employee limit 10'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><code>execute</code> 方法</p> <p>对指定的<code>sql</code>进行预编译，将使用占位进行参数传递</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">dbQuery</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> sql <span class="token operator">=</span> <span class="token string">'select * from employee where id = ?'</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">await</span> connection<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>sql <span class="token punctuation">,</span> <span class="token punctuation">[</span>params<span class="token punctuation">]</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'res'</span> <span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>	
</code></pre></div><h3 id="创建连接池"><a href="#创建连接池" class="header-anchor">#</a> 创建连接池</h3> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mysql2'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> connection <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createPool</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">host</span> <span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">port</span> <span class="token operator">:</span> <span class="token number">3306</span><span class="token punctuation">,</span>
  <span class="token literal-property property">user</span> <span class="token operator">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span> <span class="token operator">:</span> <span class="token string">'cjxy200420'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">database</span> <span class="token operator">:</span> <span class="token string">'stydymysql'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/web/node/Node.html" class="prev">
        NodeJS
      </a></span> <span class="next"><a href="/web/ORM/ORM.html">
        Node_ORM
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.feb21b2a.js" defer></script><script src="/assets/js/2.75ba61f2.js" defer></script><script src="/assets/js/8.65918f4e.js" defer></script>
  </body>
</html>
